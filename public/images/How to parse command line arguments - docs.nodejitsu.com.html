
<!-- saved from url=(0085)https://docs.nodejitsu.com/articles/command-line/how-to-parse-command-line-arguments/ -->
<html><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
  
  <meta name="description" content="docs.nodejitsu.com is a growing collection of how-to articles for node.js, written by the community and curated by Nodejitsu and friends. These articles range from basic to advanced, and provide relevant code samples and insights into the design and philosophy of node itself.">
  <meta name="keywords" content="cli">
  <title>How to parse command line arguments - docs.nodejitsu.com</title>
  <script type="text/javascript" async="" src="./How to parse command line arguments - docs.nodejitsu.com_files/ga.js"></script><script type="text/javascript">var _sf_startpt=(new Date()).getTime()</script>
  <link rel="stylesheet" href="./How to parse command line arguments - docs.nodejitsu.com_files/nodedocs.css" type="text/css" media="screen">
  <link rel="stylesheet" href="./How to parse command line arguments - docs.nodejitsu.com_files/github.css" type="text/css" media="screen">
  <!--Google analytics-->
  <script type="text/javascript">

    var _gaq = _gaq || [];
    _gaq.push(['_setAccount', 'UA-24971485-4']);
    _gaq.push(['_trackPageview']);

    (function() {
      var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
      ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
      var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
    })();

  </script>

  <script type="text/javascript">
    //This changes the "edit this page" link to go to the "fork and edit" url of the docs.
    document.ready = function () {
        var edit = document.getElementById("edit"),
            location = window.location.pathname;
            if ( location === "/") { location = "";}
        edit.innerHTML = "<a href='https://github.com/nodejitsu/docs/edit/master/pages"+location+"/content.md'>Edit this page on GitHub</a>";
    }
  </script>

</head>
<body>
  <header>
    <div class="link" id="edit"><a href="https://github.com/nodejitsu/docs/edit/master/pages/articles/command-line/how-to-parse-command-line-arguments//content.md">Edit this page on GitHub</a></div>
    <div class="title"><a href="https://docs.nodejitsu.com/">docs.nodejitsu.com</a></div>
  </header>

  <div id="mask"></div>
  <nav id="toc"><ul><li><a href="https://docs.nodejitsu.com/articles/REPL">REPL</a><ul><li><a href="https://docs.nodejitsu.com/articles/REPL/how-to-create-a-custom-repl">how to create a custom repl</a></li><li><a href="https://docs.nodejitsu.com/articles/REPL/how-to-use-nodejs-repl">how to use nodejs repl</a></li></ul></li><li><a href="https://docs.nodejitsu.com/articles/other-resources">other resources</a><ul><li><a href="https://docs.nodejitsu.com/articles/other-resources/downloads">downloads</a></li><li><a href="https://docs.nodejitsu.com/articles/other-resources/hosting-conferences-and-more">hosting conferences and more</a></li><li><a href="https://docs.nodejitsu.com/articles/other-resources/tutorials-and-how-tos">tutorials and how tos</a></li></ul></li><li><a href="https://docs.nodejitsu.com/articles/javascript-conventions">javascript conventions</a><ul><li><a href="https://docs.nodejitsu.com/articles/javascript-conventions/how-to-create-default-parameters-for-functions">how to create default parameters for functions</a></li><li><a href="https://docs.nodejitsu.com/articles/javascript-conventions/using-ECMA5-in-nodejs">using ECMA5 in nodejs</a></li><li><a href="https://docs.nodejitsu.com/articles/javascript-conventions/what-are-the-built-in-timer-functions">what are the built in timer functions</a></li><li><a href="https://docs.nodejitsu.com/articles/javascript-conventions/what-are-truthy-and-falsy-values">what are truthy and falsy values</a></li><li><a href="https://docs.nodejitsu.com/articles/javascript-conventions/what-is-json">what is json</a></li><li><a href="https://docs.nodejitsu.com/articles/javascript-conventions/what-is-the-arguments-object">what is the arguments object</a></li></ul></li><li><a href="https://docs.nodejitsu.com/articles/intermediate">intermediate</a><ul><li><a href="https://docs.nodejitsu.com/articles/intermediate/how-to-log">how to log</a></li></ul></li><li><a href="https://docs.nodejitsu.com/articles/HTTP">HTTP</a><ul><li><a href="https://docs.nodejitsu.com/articles/HTTP/servers">servers</a><ul><li><a href="https://docs.nodejitsu.com/articles/HTTP/servers/how-to-handle-multipart-form-data">how to handle multipart form data</a></li><li><a href="https://docs.nodejitsu.com/articles/HTTP/servers/how-to-create-a-HTTP-server">how to create a HTTP server</a></li><li><a href="https://docs.nodejitsu.com/articles/HTTP/servers/how-to-create-a-HTTPS-server">how to create a HTTPS server</a></li><li><a href="https://docs.nodejitsu.com/articles/HTTP/servers/how-to-read-POST-data">how to read POST data</a></li><li><a href="https://docs.nodejitsu.com/articles/HTTP/servers/how-to-serve-static-files">how to serve static files</a></li></ul></li><li><a href="https://docs.nodejitsu.com/articles/HTTP/clients">clients</a><ul><li><a href="https://docs.nodejitsu.com/articles/HTTP/clients/how-to-access-query-string-parameters">how to access query string parameters</a></li><li><a href="https://docs.nodejitsu.com/articles/HTTP/clients/how-to-create-a-HTTP-request">how to create a HTTP request</a></li></ul></li></ul></li><li><a href="https://docs.nodejitsu.com/articles/getting-started">getting started</a><ul><li><a href="https://docs.nodejitsu.com/articles/getting-started/globals-in-node-js">globals in node js</a></li><li><a href="https://docs.nodejitsu.com/articles/getting-started/how-to-debug-nodejs-applications">how to debug nodejs applications</a></li><li><a href="https://docs.nodejitsu.com/articles/getting-started/how-to-use-util-inspect">how to use util inspect</a></li><li><a href="https://docs.nodejitsu.com/articles/getting-started/the-console-module">the console module</a></li><li><a href="https://docs.nodejitsu.com/articles/getting-started/the-process-module">the process module</a></li><li><a href="https://docs.nodejitsu.com/articles/getting-started/what-is-node-core-verus-userland">what is node core verus userland</a></li><li><a href="https://docs.nodejitsu.com/articles/getting-started/what-is-require">what is require</a></li><li><a href="https://docs.nodejitsu.com/articles/getting-started/npm">npm</a><ul><li><a href="https://docs.nodejitsu.com/articles/getting-started/npm/how-to-access-module-package-info">how to access module package info</a></li><li><a href="https://docs.nodejitsu.com/articles/getting-started/npm/what-is-npm">what is npm</a></li><li><a href="https://docs.nodejitsu.com/articles/getting-started/npm/what-is-the-file-package-json">what is the file package json</a></li></ul></li><li><a href="https://docs.nodejitsu.com/articles/getting-started/control-flow">control flow</a><ul><li><a href="https://docs.nodejitsu.com/articles/getting-started/control-flow/how-to-write-asynchronous-code">how to write asynchronous code</a></li><li><a href="https://docs.nodejitsu.com/articles/getting-started/control-flow/what-are-callbacks">what are callbacks</a></li><li><a href="https://docs.nodejitsu.com/articles/getting-started/control-flow/what-are-event-emitters">what are event emitters</a></li></ul></li></ul></li><li><a href="https://docs.nodejitsu.com/articles/file-system">file system</a><ul><li><a href="https://docs.nodejitsu.com/articles/file-system/how-to-read-files-in-nodejs">how to read files in nodejs</a></li><li><a href="https://docs.nodejitsu.com/articles/file-system/how-to-search-files-and-directories-in-nodejs">how to search files and directories in nodejs</a></li><li><a href="https://docs.nodejitsu.com/articles/file-system/how-to-store-local-config-data">how to store local config data</a></li><li><a href="https://docs.nodejitsu.com/articles/file-system/how-to-use-the-path-module">how to use the path module</a></li><li><a href="https://docs.nodejitsu.com/articles/file-system/how-to-write-files-in-nodejs">how to write files in nodejs</a></li><li><a href="https://docs.nodejitsu.com/articles/file-system/security">security</a><ul><li><a href="https://docs.nodejitsu.com/articles/file-system/security/introduction">introduction</a></li></ul></li></ul></li><li><a href="https://docs.nodejitsu.com/articles/errors">errors</a><ul><li><a href="https://docs.nodejitsu.com/articles/errors/what-are-the-error-conventions">what are the error conventions</a></li><li><a href="https://docs.nodejitsu.com/articles/errors/what-is-the-error-object">what is the error object</a></li><li><a href="https://docs.nodejitsu.com/articles/errors/what-is-try-catch">what is try catch</a></li></ul></li><li><a href="https://docs.nodejitsu.com/articles/cryptography">cryptography</a><ul><li><a href="https://docs.nodejitsu.com/articles/cryptography/how-to-use-crypto-module">how to use crypto module</a></li><li><a href="https://docs.nodejitsu.com/articles/cryptography/how-to-use-the-tls-module">how to use the tls module</a></li></ul></li><li><a href="https://docs.nodejitsu.com/articles/command-line">command line</a><ul><li><a href="https://docs.nodejitsu.com/articles/command-line/how-to-get-colors-on-the-command-line">how to get colors on the command line</a></li><li><a href="https://docs.nodejitsu.com/articles/command-line/how-to-parse-command-line-arguments">how to parse command line arguments</a></li><li><a href="https://docs.nodejitsu.com/articles/command-line/how-to-prompt-for-command-line-input">how to prompt for command line input</a></li></ul></li><li><a href="https://docs.nodejitsu.com/articles/child-processes">child processes</a><ul><li><a href="https://docs.nodejitsu.com/articles/child-processes/how-to-spawn-a-child-process">how to spawn a child process</a></li></ul></li><li><a href="https://docs.nodejitsu.com/articles/advanced">advanced</a><ul><li><a href="https://docs.nodejitsu.com/articles/advanced/streams">streams</a><ul><li><a href="https://docs.nodejitsu.com/articles/advanced/streams/how-to-use-fs-create-read-stream">how to use fs create read stream</a></li><li><a href="https://docs.nodejitsu.com/articles/advanced/streams/how-to-use-fs-create-write-stream">how to use fs create write stream</a></li><li><a href="https://docs.nodejitsu.com/articles/advanced/streams/how-to-use-stream-pipe">how to use stream pipe</a></li><li><a href="https://docs.nodejitsu.com/articles/advanced/streams/what-are-streams">what are streams</a></li></ul></li><li><a href="https://docs.nodejitsu.com/articles/advanced/buffers">buffers</a><ul><li><a href="https://docs.nodejitsu.com/articles/advanced/buffers/how-to-use-buffers">how to use buffers</a></li></ul></li></ul></li></ul></nav>
  <article id="article">
    <div id="metadata">
      <h1 class="title"><a href="https://docs.nodejitsu.com/articles/command-line/how-to-parse-command-line-arguments/articles/command-line/how-to-parse-command-line-arguments">How to parse command line arguments</a></h1>
      <span class="about">by <strong class="author"><span class="name">Charlie McConnell</span> <span class="github"><a href="https://github.com/avianflu">avianflu</a></span></strong></span><span class="about"> on <em><time class="date">Friday, Aug 26 2011</time></em></span>
      <nav class="breadcrumbs">
        
      <a href="https://docs.nodejitsu.com/articles" class="breadcrumb">articles</a><a href="https://docs.nodejitsu.com/articles/command-line" class="breadcrumb">command-line</a><a href="https://docs.nodejitsu.com/articles/command-line/how-to-parse-command-line-arguments" class="breadcrumb">how-to-parse-command-line-arguments</a></nav>
      <!--
        <div class="tags"></div>
        <div class="difficulty"></div>
      -->
    </div>
    <div id="content"><p>Passing in arguments via the command line is an extremely basic programming task, and a necessity for anyone trying to write a simple Command-Line Interface (CLI).  In Node.js, as in C and many related environments, all command-line arguments received by the shell are given to the process in an array called <code>argv</code> (short for 'argument values').  

</p>
<p>Node.js exposes this array for every running process in the form of <code>process.argv</code> - let's take a look at an example.  Make a file called <code>argv.js</code> and add this line:

</p>
<pre><code> console.log(process.argv);</code></pre>
<p>Now save it, and try the following in your shell:

</p>
<pre><code> <span class="variable">$ </span><span class="identifier">node</span> <span class="identifier">argv</span>.<span class="identifier">js</span> <span class="identifier">one</span> <span class="identifier">two</span> <span class="identifier">three</span> <span class="identifier">four</span> <span class="identifier">five</span>
 [ <span class="string">'node'</span>,
   <span class="string">'/home/avian/argvdemo/argv.js'</span>,
   <span class="string">'one'</span>,
   <span class="string">'two'</span>,
   <span class="string">'three'</span>,
   <span class="string">'four'</span>,
   <span class="string">'five'</span> ]</code></pre>
<p>There you have it - an array containing any arguments you passed in.  Notice the first two elements - <code>node</code> and the path to your script.  These will always be present - even if your program takes no arguments of its own, your script's interpreter and path are still considered arguments to the shell you're using.  

</p>
<p>Where everyday CLI arguments are concerned, you'll want to skip the first two.  Now try this in <code>argv.js</code>:

</p>
<pre><code> <span class="keyword">var</span> myArgs = process.argv.slice(<span class="number">2</span>);
 console.log(<span class="string">'myArgs: '</span>, myArgs);</code></pre>
<p>This yields:

</p>
<pre><code> <span class="variable">$ </span><span class="identifier">node</span> <span class="identifier">argv</span>.<span class="identifier">js</span> <span class="identifier">one</span> <span class="identifier">two</span> <span class="identifier">three</span> <span class="identifier">four</span>
 <span class="constant">myArgs</span><span class="symbol">:</span>  [ <span class="string">'one'</span>, <span class="string">'two'</span>, <span class="string">'three'</span>, <span class="string">'four'</span> ]</code></pre>
<p>Now let's actually do something with the args:

</p>
<pre><code> <span class="keyword">var</span> myArgs = process.argv.slice(<span class="number">2</span>);
 console.log(<span class="string">'myArgs: '</span>, myArgs);

 <span class="keyword">switch</span> (myArgs[<span class="number">0</span>]) {
   <span class="keyword">case</span> <span class="string">'insult'</span>:
     console.log(myArgs[<span class="number">1</span>], <span class="string">'smells quite badly.'</span>);
     <span class="keyword">break</span>;
   <span class="keyword">case</span> <span class="string">'compliment'</span>:
     console.log(myArgs[<span class="number">1</span>], <span class="string">'is really cool.'</span>);
     <span class="keyword">break</span>;
   <span class="keyword">default</span>:
     console.log(<span class="string">'Sorry, that is not something I know how to do.'</span>);
 }</code></pre>
<p>JS PRO TIP: Remember to <code><span class="keyword">break</span></code> after each <code><span class="keyword">case</span></code> - otherwise you'll run the next case too!

</p>
<p>Referring to your command-line arguments by array index isn't very clean, and can quickly turn into a nightmare when you start working with flags and the like - imagine you made a server, and it needed a lot of arguments.  Imagine having to deal with something like <code>myapp -h host -p port -r -v -b --quiet -x -o outfile</code> - some flags need to know about what comes next, some don't, and most CLIs let users specify arguments in any order they want.  Sound like a fun string to parse?

</p>
<p>Luckily, there's a third party module that makes all of this trivial - it's called <a href="https://github.com/substack/node-optimist">Optimist</a>, written by one Mr. James Halliday (aka SubStack).  It's available via <code>npm</code>.  Use this command from your app's base path:

</p>
<pre><code> npm install optimist</code></pre>
<p>Once you have it, give it a try - it can really be a life-saver.  

</p>
<pre><code> <span class="identifier">var</span> <span class="constant">myArgs</span> = <span class="identifier"><span class="keyword">require</span></span>(<span class="string">'optimist'</span>).<span class="identifier">argv</span>,
     <span class="identifier">help</span> = <span class="string">'This would be a great place for real help information.'</span>;

 <span class="identifier"><span class="keyword">if</span></span> ((<span class="constant">myArgs</span>.<span class="identifier">h</span>)||(<span class="constant">myArgs</span>.<span class="identifier">help</span>)) {
   <span class="identifier">console</span>.<span class="identifier">log</span>(<span class="identifier">help</span>);
   <span class="identifier">process</span>.<span class="identifier"><span class="keymethods">exit</span></span>(<span class="number">0</span>);
 }

 <span class="identifier">switch</span> (<span class="constant">myArgs</span>.<span class="number">_</span>[<span class="number">0</span>]) {
   <span class="identifier"><span class="keyword">case</span></span> <span class="string">'insult'</span><span class="symbol">:</span>
     <span class="identifier">console</span>.<span class="identifier">log</span>(<span class="constant">myArgs</span>.<span class="identifier">n</span> || <span class="constant">myArgs</span>.<span class="identifier"><span class="keymethods">name</span></span>, <span class="string">'smells quite badly.'</span>);
     <span class="identifier"><span class="keyword">break</span></span>;
   <span class="identifier"><span class="keyword">case</span></span> <span class="string">'compliment'</span><span class="symbol">:</span>
     <span class="identifier">console</span>.<span class="identifier">log</span>(<span class="constant">myArgs</span>.<span class="identifier">n</span> || <span class="constant">myArgs</span>.<span class="identifier"><span class="keymethods">name</span></span>, <span class="string">'is really cool.'</span>);
     <span class="identifier"><span class="keyword">break</span></span>;
   <span class="identifier"><span class="keymethods">default</span></span><span class="symbol">:</span>
     <span class="identifier">console</span>.<span class="identifier">log</span>(<span class="identifier">help</span>);
 }

 <span class="identifier">console</span>.<span class="identifier">log</span>(<span class="string">'myArgs: '</span>, <span class="constant">myArgs</span>);</code></pre>
<p>The last line was included to let you see how Optimist handles your arguments.  Here's a quick reference:

</p>
<ul>
<li><code>argv.$0</code> contains the first two elements of <code>process.argv</code> joined together - "node ./myapp.js".</li>
<li><code>argv._</code> is an array containing each element not attached to a flag.</li>
<li>Individual flags become properties of <code>argv</code>, such as with <code>myArgs.h</code> and <code>myArgs.help</code>.  Note that non-single-letter flags must be passed in as <code>--flag</code>.  </li>
</ul>
<p>For more information on Optimist and the many, many other things it can do for your command-line arguments, please visit <a href="https://github.com/substack/node-optimist"></a><a href="https://github.com/substack/node-optimist">https://github.com/substack/node-optimist</a>
</p>
</div>
  </article>
  <script type="text/javascript" src="./How to parse command line arguments - docs.nodejitsu.com_files/jquery.js"></script>
  <script type="text/javascript" src="./How to parse command line arguments - docs.nodejitsu.com_files/index.js"></script>
  <script type="text/javascript">
  var _sf_async_config={uid:11119,domain:"docs.nodejitsu.com"};
  (function(){
    function loadChartbeat() {
      window._sf_endpt=(new Date()).getTime();
      var e = document.createElement('script');
      e.setAttribute('language', 'javascript');
      e.setAttribute('type', 'text/javascript');
      e.setAttribute('src',
         (("https:" == document.location.protocol) ? "https://a248.e.akamai.net/chartbeat.download.akamai.com/102508/" : "http://static.chartbeat.com/") +
         "js/chartbeat.js");
      document.body.appendChild(e);
    }
    var oldonload = window.onload;
    window.onload = (typeof window.onload != 'function') ?
       loadChartbeat : function() { oldonload(); loadChartbeat(); };
  })();
  </script>


<script language="javascript" type="text/javascript" src="./How to parse command line arguments - docs.nodejitsu.com_files/chartbeat.js"></script></body></html>